@page "/blog/{Id:int}"

@inject BlogService BlogDataService

<base href="~/" />
<h3 class="ml-5">@blog.Title</h3>
<small class="ml-5">@blog.DateAdded.ToString("dd MMMM yyyy")</small>
<div class="m-5">
    @((MarkupString)blog.Post)
</div>

@code {
    [Parameter]
    public int Id { get; set; }
    private Blog blog;

    protected override void OnInitialized() {
        blog = BlogDataService.GetBlogFull(Id);
    }

    protected override async Task OnAfterRenderAsync(bool firstRender) {
        if (firstRender) {
            await JSRuntime.InvokeAsync<string>("PR.prettyPrint");
        }
    }

}
